<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Furama Resort</title>
</head>
<body>
<script>
    let name;
    let identityNumber;
    let birthday;
    let email;
    let address;
    let typeService;
    let typeRoom;
    let typeCustomer;
    let discount;
    let quantityIncluded;
    let rentDays;
    let totalPay;
    let check = false;
    //Định dạng tên
    let tempName = '';
    name = prompt('Nhập tên');
    name = name.trim().toLowerCase();
    for (let i = 0; i < name.length; i++) {
        if (name.charAt(i) === ' ' && name.charAt(i + 1) === ' ') {
            continue;
        }
        if (i === 0 || name.charAt(i - 1) === ' ') {
            tempName += name.charAt(i).toUpperCase();
            continue;
        }
        tempName += name.charAt(i);
    }
    name = tempName;
    alert(name);
    //Kiểm tra CMND
    do {
        identityNumber = prompt('Nhập số CMND');
        if (!isNaN(identityNumber)) {
            identityNumber = parseFloat(identityNumber);
        }
        if (!Number.isInteger(identityNumber)) {
            alert('CMND không đúng định dạng');
            continue;
        }
        if (identityNumber < 10000000 || identityNumber > 99999999) {
            alert('CMND không đúng định dạng');
            continue;
        }
        check = true;
    } while (!check);
    check = false;
    //Kiểm tra ngày sinh
    do {
        birthday = prompt('Nhập ngày sinh');
        if (birthday.charAt(2) === '/' && birthday.charAt(5) === '/') {
            let day = birthday.substring(0,2);
            let month = birthday.substring(3,5);
            let year = birthday.substring(6,10);
            if (!isNaN(day) && !isNaN(month) && !isNaN(year)) {
                day = parseFloat(day);
                month = parseFloat(month);
                year = parseFloat(year);
                if (Number.isInteger(day) && Number.isInteger(month) && Number.isInteger(year)) {
                    if (day < 32 && month < 13 && year > 1950) {
                        check = true;
                    }
                }
            }
        }
        if (!check) {
            alert('Ngày sinh không đúng định dạng');
        }
    } while (!check);
    check = false;
    //Kiểm tra email
    do {
        let countAt = 0;
        let countDot = 0;
        email = prompt('Nhập email');
        for (let i = 0; i < email.length; i++) {
            if (email.charAt(i) === '@') {
                countAt++;
                for (let j = i + 1; j < email.length; j++) {
                    if (email.charAt(j) === '.') {
                        countDot++;
                    }
                }
            }
        }
        if (countAt !== 1 || countDot < 1) {
            alert('Email không đúng định dạng');
        } else {
            check = true;
        }
    } while (!check);
    check = false;
    address = prompt('Nhập địa chỉ');
    typeService = prompt('Nhập loại dịch vụ');
    typeRoom = prompt('Nhập loại phòng');
    typeCustomer = prompt('Nhập loại khách hàng');
    discount = prompt('Nhập giảm giá');
    //Kiểm tra số người đi kèm
    do {
        quantityIncluded = prompt('Nhập số người đi kèm');
        if (!isNaN(quantityIncluded)) {
            quantityIncluded = parseFloat(quantityIncluded);
            if (Number.isInteger(quantityIncluded) && quantityIncluded > 0) {
                check = true;
            }
        }
        if (!check) {
            alert('Số người đi kèm không đúng định dạng')
        }
    } while (!check);
    check = false;
    //Kiểm tra số ngày thuê
    do {
        rentDays = prompt('Nhập số ngày thuê');
        if (!isNaN(rentDays)) {
            rentDays = parseFloat(rentDays);
            if (Number.isInteger(rentDays) && rentDays > 0) {
                check = true;
            }
        }
        if (!check) {
            alert('Số ngày thuê không đúng định dạng')
        }
    } while (!check);
    check = false;
</script>
</body>
</html>